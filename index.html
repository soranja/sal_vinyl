<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vinyl_icon.svg" />
    <link rel="stylesheet" href="./style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Soranja Records</title>
  </head>

  <body>
    <div
      id="loading-overlay"
      class="fixed inset-0 flex items-center justify-center z-[9999] transition-opacity duration-500 ease-out bg-[#101010]"
    ></div>

    <div
      id="app"
      class="relative flex flex-col lg:flex-row w-full h-[var(--app-height)] max-h-[var(--app-height)] bg-[url(/bg-tile-gray.png)] bg-repeat bg-[length:100px_100px] text-white overflow-hidden"
    >
      <div id="vignette" class="hidden lg:block absolute inset-0 pointer-events-none bg-side-vingette z-1"></div>
      <div
        id="ready-area-background"
        class="absolute pointer-events-none bg-no-repeat bg-center bg-cover opacity-10 w-full h-full"
      ></div>

      <div
        id="init-area"
        class="flex flex-row z-50 w-[100vw] h-[calc(var(--app-height)_*_0.2)] lg:items-center justify-start md:h-[calc(var(--app-height)_*_0.25)] lg:w-[23vh] lg:h-screen"
      >
        <div id="init-area-threshold" class="flex flex-col lg:justify-center items-start w-full h-full">
          <div
            id="record-list"
            class="w-[100vw] top-0 left-0 flex flex-row justify-center items-center gap-x-2 relative lg:w-[22vh] h-2/3 lg:h-full lg:flex-col bg-yellow-500"
          >
            <!-- Records (via JS) -->
          </div>
        </div>
      </div>

      <div
        id="ready-area"
        class="relative flex flex-col justify-center items-center lg:items-end w-full h-[calc(100%-20%)] lg:h-[var(--app-height)]"
      >
        <div
          id="ready-area-threshold"
          class="flex flex-col lg:flex-row justify-center items-center w-[97%] h-full gap-x-16"
        >
          <div id="player-wrapper" class="flex">
            <div id="player-container">
              <img
                id="player"
                src="/player/player.png"
                alt="player"
                class="relative w-auto h-[calc(var(--app-height)_*_0.5)] lg:h-[calc(var(--app-height)_*_0.6)] max-w-full select-none object-contain drop-shadow-[0_4px_6px_rgba(0,0,0,0.6)]"
              />
            </div>
            <div id="needle-container">
              <img
                id="needle"
                src="/player/needle.png"
                alt="needle"
                class="relative w-auto h-[calc(var(--app-height)_*_0.5)] lg:h-[calc(var(--app-height)_*_0.6)] max-w-full select-none object-contain drop-shadow-[0_4px_8px_rgba(0,0,0,0.6)] hidden lg:block"
              />
            </div>
          </div>
          <div
            id="record-info-wrapper"
            class="lg:w-full lg:h-[calc(var(--app-height)_*_0.4)] lg:flex flex-col grow-0 items-start justify-center max-w-xl"
          >
            <div id="record-info" class="flex flex-col gap-y-8 items-start justify-center">
              <div id="record-title-lg" class="hidden font-bold text-4xl text-white"></div>
              <div id="record-description" class="hidden text-base text-justify italic bg-black/50 p-8 lg:w-2/3"></div>
            </div>
          </div>
        </div>

        <div id="player-ui" class="flex justify-center items-start gap-x-4 bg-yellow-500 pb-8 p-6 w-full">
          <button id="play-button" class="p-3 bg-[#333] cursor-pointer flex items-center justify-center z-1">
            <img id="play-icon" src="/ui/play.svg" alt="play" class="w-6 h-6 pointer-events-none" />
          </button>
          <div
            id="progress-n-volume-wrapper"
            class="flex flex-col-reverse lg:flex-col items-start justify-between lg:justify-center w-full h-full lg:h-auto"
          >
            <div
              id="progress-bar-wrapper"
              class="w-full h-[calc(var(--app-height)*_0.019)] lg:h-[calc(var(--app-height)_*_0.013)] bg-[#555] relative shadow-inners mb-[1.5px] lg:mb-0"
            >
              <div id="buffer-bar-fill" class="absolute left-0 top-0 h-full bg-gray-800 w-0"></div>
              <div id="progress-bar-fill" class="absolute left-0 top-0 h-full bg-black w-0"></div>
              <div
                id="progress-pointer-wrapper"
                class="absolute w-[16px] h-[16px] top-1/2 -translate-x-1/5 lg:-translate-x-1/4 -translate-y-1/2 z-20 flex items-center justify-center"
              >
                <div
                  id="progress-bar-pointer"
                  class="w-full h-full bg-white border-2 border-black pointer-events-none"
                ></div>
              </div>
            </div>
            <input
              id="volume-control"
              type="range"
              min="0"
              max="1"
              step="0.01"
              value="0.1"
              class="w-[calc(var(--app-height)_*_0.1)] lg:mt-4 bg-[#333] cursor-pointer z-1 hidden lg:block"
            />
            <div id="record-title-wrapper" class="relative overflow-hidden h-6 w-full lg:hidden">
              <div id="record-title" class="absolute whitespace-nowrap font-bold text-xl text-[#222]"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/src/appHeight.js"></script>
    <script type="module" src="/src/loading.js"></script>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
